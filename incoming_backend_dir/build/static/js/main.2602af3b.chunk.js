(this.webpackJsonppatientor=this.webpackJsonppatientor||[]).push([[0],{354:function(e,t,a){"use strict";a.r(t);var n,c,i,r=a(0),s=a.n(r),l=a(74),o=a.n(l),d=(a(229),a(28)),j=a.n(d),u=a(50),b=a(12),h=a(46),p=a.n(h),O=a(79),x=a(15),m=a(365),f=a(377),v=a(372),g=a(366),y="http://localhost:3001/api",D=a(25),C=a(100),k=a(16),w=function(e){return{type:"ADD_TO_PATIENT_INFO_LIST",payload:e}},S=function(e){return{type:"ADD_DIAGNOSES",payload:e}},H=a(2),T={patients:{},patientInfo:{},diagnoses:[]},N=Object(r.createContext)([T,function(){return T}]),E=function(e){var t=e.reducer,a=e.children,n=Object(r.useReducer)(t,T),c=Object(b.a)(n,2),i=c[0],s=c[1];return Object(H.jsx)(N.Provider,{value:[i,s],children:a})},Y=function(){return Object(r.useContext)(N)},F=a(370),A=a(369),I=a(375),M=a(374),V=a(10),q=a(368),_=a(367),R=function(e){var t=e.name,a=e.label,n=e.options;return Object(H.jsxs)(q.a.Field,{children:[Object(H.jsx)("label",{children:a}),Object(H.jsx)(V.b,{as:"select",name:t,className:"ui dropdown",children:n.map((function(e){return Object(H.jsx)("option",{value:e.value,children:e.label||e.value},e.value)}))})]})},L=function(e){var t=e.field,a=e.label,n=e.placeholder;return Object(H.jsxs)(q.a.Field,{children:[Object(H.jsx)("label",{children:a}),Object(H.jsx)(V.b,Object(k.a)({placeholder:n},t)),Object(H.jsx)("div",{style:{color:"red"},children:Object(H.jsx)(V.a,{name:t.name})})]})},P=function(e){var t=e.field,a=e.label,n=e.min,c=e.max;return Object(H.jsxs)(q.a.Field,{children:[Object(H.jsx)("label",{children:a}),Object(H.jsx)(V.b,Object(k.a)(Object(k.a)({},t),{},{type:"number",min:n,max:c})),Object(H.jsx)("div",{style:{color:"red"},children:Object(H.jsx)(V.a,{name:t.name})})]})},B=function(e){var t=e.diagnoses,a=e.setFieldValue,n=e.setFieldTouched,c="diagnosisCodes",i=t.map((function(e){return{key:e.code,text:"".concat(e.name," (").concat(e.code,")"),value:e.code}}));return Object(H.jsxs)(q.a.Field,{children:[Object(H.jsx)("label",{children:"Diagnoses"}),Object(H.jsx)(_.a,{fluid:!0,multiple:!0,search:!0,selection:!0,options:i,onChange:function(e,t){n(c,!0),a(c,t.value)}}),Object(H.jsx)(V.a,{name:c})]})};!function(e){e.Male="male",e.Female="female",e.Other="other"}(n||(n={})),function(e){e[e.Healthy=0]="Healthy",e[e.LowRisk=1]="LowRisk",e[e.HighRisk=2]="HighRisk",e[e.Critical=3]="Critical"}(c||(c={})),function(e){e.HealthCheck="HealthCheck",e.OccupationalHealthcare="OccupationalHealthcare",e.Hospital="Hospital"}(i||(i={}));var z=[{value:n.Male,label:"Male"},{value:n.Female,label:"Female"},{value:n.Other,label:"Other"}],J=function(e){var t=e.onSubmit,a=e.onCancel;return Object(H.jsx)(V.d,{initialValues:{name:"",ssn:"",dateOfBirth:"",occupation:"",gender:n.Other},onSubmit:t,validate:function(e){var t="Field is required",a={};return e.name||(a.name=t),e.ssn||(a.ssn=t),e.dateOfBirth||(a.dateOfBirth=t),e.occupation||(a.occupation=t),a},children:function(e){var t=e.isValid,n=e.dirty;return Object(H.jsxs)(V.c,{className:"form ui",children:[Object(H.jsx)(V.b,{label:"Name",placeholder:"Name",name:"name",component:L}),Object(H.jsx)(V.b,{label:"Social Security Number",placeholder:"SSN",name:"ssn",component:L}),Object(H.jsx)(V.b,{label:"Date Of Birth",placeholder:"YYYY-MM-DD",name:"dateOfBirth",component:L}),Object(H.jsx)(V.b,{label:"Occupation",placeholder:"Occupation",name:"occupation",component:L}),Object(H.jsx)(R,{label:"Gender",name:"gender",options:z}),Object(H.jsxs)(M.a,{children:[Object(H.jsx)(M.a.Column,{floated:"left",width:5,children:Object(H.jsx)(v.a,{type:"button",onClick:a,color:"red",children:"Cancel"})}),Object(H.jsx)(M.a.Column,{floated:"right",width:5,children:Object(H.jsx)(v.a,{type:"submit",floated:"right",color:"green",disabled:!n||!t,children:"Add"})})]})]})}})},G=function(e){var t=e.modalOpen,a=e.onClose,n=e.onSubmit,c=e.error;return Object(H.jsxs)(A.a,{open:t,onClose:a,centered:!1,closeIcon:!0,children:[Object(H.jsx)(A.a.Header,{children:"Add a new patient"}),Object(H.jsxs)(A.a.Content,{children:[c&&Object(H.jsx)(I.a,{inverted:!0,color:"red",children:"Error: ".concat(c)}),Object(H.jsx)(J,{onSubmit:n,onCancel:a})]})]})},U=a(376),$=["The patient is in great shape","The patient has a low risk of getting sick","The patient has a high risk of getting sick","The patient has a diagnosed condition"],K=function(e){var t=e.rating,a=e.showText;return Object(H.jsxs)("div",{className:"health-bar",children:[Object(H.jsx)(U.a,{icon:"heart",disabled:!0,rating:4-t,maxRating:4}),a?Object(H.jsx)("p",{children:$[t]}):null]})},Q=function(){var e=Y(),t=Object(b.a)(e,2),a=t[0].patients,n=t[1],c=s.a.useState(!1),i=Object(b.a)(c,2),r=i[0],l=i[1],o=s.a.useState(),d=Object(b.a)(o,2),h=d[0],x=d[1],f=function(){l(!1),x(void 0)},g=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,c,i,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(y,"/patients"),t);case 3:a=e.sent,c=a.data,n({type:"ADD_PATIENT",payload:c}),f(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error((null===(i=e.t0.response)||void 0===i?void 0:i.data)||"Unknown Error"),x((null===(r=e.t0.response)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.error)||"Unknown error");case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsxs)("div",{className:"App",children:[Object(H.jsx)(m.a,{textAlign:"center",children:Object(H.jsx)("h3",{children:"Patient list"})}),Object(H.jsxs)(F.a,{celled:!0,selectable:!0,children:[Object(H.jsx)(F.a.Header,{children:Object(H.jsxs)(F.a.Row,{children:[Object(H.jsx)(F.a.HeaderCell,{children:"Name"}),Object(H.jsx)(F.a.HeaderCell,{children:"Gender"}),Object(H.jsx)(F.a.HeaderCell,{children:"Occupation"}),Object(H.jsx)(F.a.HeaderCell,{children:"Health Rating"})]})}),Object(H.jsx)(F.a.Body,{children:Object.values(a).map((function(e){return Object(H.jsxs)(F.a.Row,{children:[Object(H.jsx)(F.a.Cell,{children:Object(H.jsx)(O.b,{to:"/patients/".concat(e.id),children:e.name})}),Object(H.jsx)(F.a.Cell,{children:Object(H.jsx)(O.b,{to:"/patients/".concat(e.id),children:e.gender})}),Object(H.jsx)(F.a.Cell,{children:Object(H.jsx)(O.b,{to:"/patients/".concat(e.id),children:e.occupation})}),Object(H.jsx)(F.a.Cell,{children:Object(H.jsx)(K,{showText:!1,rating:1})})]},e.id)}))})]}),Object(H.jsx)(G,{modalOpen:r,onSubmit:g,error:h,onClose:f}),Object(H.jsx)(v.a,{onClick:function(){return l(!0)},children:"Add New Patient"})]})},W=a(104),X=a(11),Z=(new Date).toJSON().split("T")[0],ee=X.d().shape({description:X.e().min(4,"Must be ${min} characters or more").required(),date:X.b().default((function(){return new Date})).required(),specialist:X.e().min(1,"Too short!").required(),diagnosisCodes:X.a().ensure().of(X.e()),healthCheckRating:X.c().min(0).max(3).integer().required().default((function(){return 3})),type:X.e().matches(/\bHealthCheck\b/,"The value must be exactly -> "+i.HealthCheck).default((function(){return i.HealthCheck}))}),te=function(e){var t=e.onSubmit,a=e.onCancel,n=Y(),c=Object(b.a)(n,1)[0].diagnoses;return Object(H.jsx)(V.d,{initialValues:{description:"",date:Z,specialist:"",diagnosisCodes:[],type:i.HealthCheck,healthCheckRating:3},onSubmit:t,validationSchema:ee,children:function(e){var t=e.isValid,n=e.dirty,i=e.setFieldValue,r=e.setFieldTouched;return Object(H.jsxs)(V.c,{className:"form ui",children:[Object(H.jsx)(V.b,{label:"Date",placeholder:"YYYY-MM-DD",name:"date",component:L}),Object(H.jsx)(V.b,{label:"Description",placeholder:"Description",name:"description",component:L}),Object(H.jsx)(V.b,{label:"Specialist",placeholder:"Specialist",name:"specialist",component:L}),Object(H.jsx)(V.b,{label:"Health Check Rating",name:"healthCheckRating",component:P,min:0,max:3}),Object(H.jsx)(V.b,{label:"Visit type",placeholder:"HealthCheck",name:"type",component:L}),Object(H.jsx)(B,{setFieldValue:i,setFieldTouched:r,diagnoses:Object.values(c)}),Object(H.jsxs)(M.a,{children:[Object(H.jsx)(M.a.Column,{floated:"left",width:5,children:Object(H.jsx)(v.a,{type:"button",onClick:a,color:"red",children:"Cancel"})}),Object(H.jsx)(M.a.Column,{floated:"right",width:5,children:Object(H.jsx)(v.a,{type:"submit",floated:"right",color:"green",disabled:!n||!t,children:"Save Entry"})})]})]})}})},ae=X.d().shape({description:X.e().min(4).required(),date:X.b().default((function(){return new Date})).required(),specialist:X.e().required().min(1,"Specialist name is required"),diagnosisCodes:X.a().ensure().of(X.e()),type:X.e().matches(/\bHospital\b/,"The value must be exactly -> "+i.Hospital).default((function(){return i.Hospital})),discharge:X.d().shape({date:X.b().default((function(){return new Date})),criteria:X.e()})}),ne=function(e){var t=e.onSubmit,a=e.onCancel,n=Y(),c=Object(b.a)(n,1)[0].diagnoses;return Object(H.jsx)(V.d,{initialValues:{description:"",date:Z,specialist:"",diagnosisCodes:[],type:i.Hospital,discharge:{date:Z,criteria:""}},onSubmit:t,validationSchema:ae,children:function(e){var t=e.isValid,n=e.dirty,i=e.setFieldValue,r=e.setFieldTouched;return Object(H.jsxs)(V.c,{className:"form ui",children:[Object(H.jsx)(V.b,{label:"Date",placeholder:"YYYY-MM-DD",name:"date",component:L}),Object(H.jsx)(V.b,{label:"Description",placeholder:"Description",name:"description",component:L}),Object(H.jsx)(V.b,{label:"Specialist",placeholder:"Specialist",name:"specialist",component:L}),Object(H.jsx)(V.b,{label:"Discharge date",placeholder:"YYYY-MM-DD",name:"discharge.date",component:L}),Object(H.jsx)(V.b,{label:"Discharge reason",placeholder:"Thumb has healed",name:"discharge.criteria",component:L}),Object(H.jsx)(V.b,{label:"Visit type",placeholder:"Hospital",name:"type",component:L}),Object(H.jsx)(B,{setFieldValue:i,setFieldTouched:r,diagnoses:Object.values(c)}),Object(H.jsxs)(M.a,{children:[Object(H.jsx)(M.a.Column,{floated:"left",width:5,children:Object(H.jsx)(v.a,{type:"button",onClick:a,color:"red",children:"Cancel"})}),Object(H.jsx)(M.a.Column,{floated:"right",width:5,children:Object(H.jsx)(v.a,{type:"submit",floated:"right",color:"green",disabled:!n||!t,children:"Save Entry"})})]})]})}})},ce=X.d().shape({description:X.e().min(4,"Must be {min} characters or more").required(),date:X.b().default((function(){return new Date})).required(),specialist:X.e().required().min(1,"Specialist name is required"),diagnosisCodes:X.a().ensure().of(X.e()),type:X.e().matches(/\bOccupationalHealthcare\b/,"The value must be exactly -> "+i.OccupationalHealthcare).default((function(){return i.OccupationalHealthcare})),employerName:X.e().required("Employer name is required"),sickLeave:X.d().shape({startDate:X.b().when("endDate",(function(e){var t=new Date(e),a=new Date(t.setDate(t.getDate()+1));return e?X.b().max(e,"Date must be earlier than or equal to end date which is ".concat(a.toJSON().split("T")[0])):X.b().default((function(){return new Date}))})),endDate:X.b().default((function(){return new Date}))})}),ie=function(e){var t=e.onSubmit,a=e.onCancel,n=Y(),c=Object(b.a)(n,1)[0].diagnoses;return Object(H.jsx)(V.d,{initialValues:{description:"",date:Z,specialist:"",diagnosisCodes:[],type:i.OccupationalHealthcare,sickLeave:{startDate:"",endDate:""},employerName:""},onSubmit:t,validationSchema:ce,children:function(e){var t=e.isValid,n=e.dirty,i=e.setFieldValue,r=e.setFieldTouched;return Object(H.jsxs)(V.c,{className:"form ui",children:[Object(H.jsx)(V.b,{label:"Date",placeholder:"YYYY-MM-DD",name:"date",component:L}),Object(H.jsx)(V.b,{label:"Description",placeholder:"Description",name:"description",component:L}),Object(H.jsx)(V.b,{label:"Specialist",placeholder:"Specialist",name:"specialist",component:L}),Object(H.jsx)(V.b,{label:"Employer name",placeholder:"Employer name",name:"employerName",component:L}),Object(H.jsx)(V.b,{label:"Sick leave start date (optional)",placeholder:"YYYY-MM-DD",name:"sickLeave.startDate",component:L}),Object(H.jsx)(V.b,{label:"Sick leave end date (optional)",placeholder:"YYYY-MM-DD",name:"sickLeave.endDate",component:L}),Object(H.jsx)(V.b,{label:"Visit type",placeholder:"Hospital",name:"type",component:L}),Object(H.jsx)(B,{setFieldValue:i,setFieldTouched:r,diagnoses:Object.values(c)}),Object(H.jsxs)(M.a,{children:[Object(H.jsx)(M.a.Column,{floated:"left",width:5,children:Object(H.jsx)(v.a,{type:"button",onClick:a,color:"red",children:"Cancel"})}),Object(H.jsx)(M.a.Column,{floated:"right",width:5,children:Object(H.jsx)(v.a,{type:"submit",floated:"right",color:"green",disabled:!n||!t,children:"Save Entry"})})]})]})}})},re=function(e){var t=e.modalOpen,a=e.onClose,n=e.onSubmit,c=e.error,r=s.a.useState(i.HealthCheck),l=Object(b.a)(r,2),o=l[0],d=l[1];var j,u=(j=i,Object.keys(j).filter((function(e){return Number.isNaN(+e)}))).map((function(e){return{key:e,text:e,value:e}}));return Object(H.jsxs)(A.a,{open:t,onClose:a,centered:!1,closeIcon:!0,children:[Object(H.jsx)(A.a.Header,{children:"Add new entry"}),Object(H.jsxs)(A.a.Content,{children:[Object(H.jsx)(f.a,{as:"h4",children:"Choose vist type"}),Object(H.jsx)(_.a,{placeholder:"Type of entry",value:o,selection:!0,options:u,onChange:function(e,t){var a=t.value;return d(a||i.HealthCheck)}})]}),Object(H.jsxs)(A.a.Content,{children:[c&&Object(H.jsx)(I.a,{inverted:!0,color:"red",children:"Error: ".concat(c)}),function(){switch(o){case i.HealthCheck:return Object(H.jsx)(te,{onCancel:a,onSubmit:n});case i.Hospital:return Object(H.jsx)(ne,{onCancel:a,onSubmit:n});case i.OccupationalHealthcare:return Object(H.jsx)(ie,{onCancel:a,onSubmit:n});default:return Object(H.jsx)("p",{children:"the switch case of the dropdown is having some error"})}}()]})]})},se=a(371),le=function(e){var t=e.entry,a=e.diagnosisDetails;return Object(H.jsx)(se.a,{fluid:!0,children:Object(H.jsxs)(se.a.Content,{children:[Object(H.jsxs)(se.a.Header,{children:[t.date," ",Object(H.jsx)(W.a,{name:"doctor",size:"big"})]}),Object(H.jsxs)(se.a.Meta,{children:["Specialist: ",t.specialist]}),Object(H.jsxs)(se.a.Description,{children:[Object(H.jsx)(f.a,{as:"h4",children:" Description"}),t.description]}),Object(H.jsx)(K,{showText:!1,rating:t.healthCheckRating}),Object(H.jsx)(f.a,{as:"h4",children:" Diagnoses"}),a&&a.map((function(e,t){return Object(H.jsxs)("p",{children:[e.code,": ",e.name]},"".concat(e.code).concat(t))}))]})})},oe=function(e){var t=e.entry,a=e.diagnosisDetails;return Object(H.jsx)(se.a,{fluid:!0,children:Object(H.jsxs)(se.a.Content,{children:[Object(H.jsxs)(se.a.Header,{children:[t.date," ",Object(H.jsx)(W.a,{name:"hospital",size:"big"})]}),Object(H.jsxs)(se.a.Meta,{children:["Specialist: ",t.specialist]}),Object(H.jsxs)(se.a.Description,{children:[Object(H.jsx)(f.a,{as:"h4",children:" Description"}),t.description]}),t.discharge&&Object(H.jsxs)(se.a.Description,{children:[Object(H.jsx)("b",{children:"discharge date"}),": ",t.discharge.date," ",Object(H.jsx)("br",{}),Object(H.jsx)("b",{children:"notes"}),"- ",t.discharge.criteria]}),Object(H.jsx)(f.a,{as:"h4",children:" Diagnoses"}),a&&a.map((function(e,t){return Object(H.jsxs)("p",{children:[e.code,": ",e.name]},"".concat(e.code).concat(t))}))]})})},de=function(e){var t=e.entry,a=e.diagnosisDetails;return Object(H.jsx)(se.a,{fluid:!0,children:Object(H.jsxs)(se.a.Content,{children:[Object(H.jsxs)(se.a.Header,{children:[t.date," ",Object(H.jsx)(W.a,{name:"doctor",size:"big"})," ",t.employerName]}),Object(H.jsxs)(se.a.Meta,{children:["Specialist: ",t.specialist]}),Object(H.jsxs)(se.a.Description,{children:[Object(H.jsx)(f.a,{as:"h4",children:" Description"}),t.description]}),t.sickLeave&&Object(H.jsxs)(se.a.Description,{children:[Object(H.jsx)("b",{children:"sick leave from"})," ",t.sickLeave.startDate," to ",t.sickLeave.endDate]}),Object(H.jsx)(f.a,{as:"h4",children:" Diagnoses"}),a&&a.map((function(e,t){return Object(H.jsxs)("p",{children:[e.code,": ",e.name]},"".concat(e.code).concat(t))}))]})})},je=function(e){var t=e.entry,a=Y(),n=Object(b.a)(a,1)[0].diagnoses,c=function(){var e,a=[];return n&&n.length>0?(null===(e=t.diagnosisCodes)||void 0===e||e.forEach((function(e){var t=n.find((function(t){return t.code==e}));void 0!==t&&a.push(t)})),a):a};switch(t.type){case i.Hospital:return Object(H.jsx)(oe,{entry:t,diagnosisDetails:c()});case i.HealthCheck:return Object(H.jsx)(le,{entry:t,diagnosisDetails:c()});case i.OccupationalHealthcare:return Object(H.jsx)(de,{entry:t,diagnosisDetails:c()});default:return function(e){throw new Error("Unhandled discriminated union member: ".concat(JSON.stringify(e)))}(t)}},ue=function(){var e=Object(x.f)().id,t=Y(),a=Object(b.a)(t,2),n=a[0],c=n.patientInfo,i=n.diagnoses,r=a[1],l=s.a.useState(!1),o=Object(b.a)(l,2),d=o[0],h=o[1],O=s.a.useState(),m=Object(b.a)(O,2),f=m[0],g=m[1],D=Object.values(c).find((function(t){return t.id==e})),C=function(){h(!1),g(void 0)};s.a.useEffect((function(){D&&void 0!=D&&null!=D||function(){var t=Object(u.a)(j.a.mark((function t(){var a,n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get(y+"/patients/"+e);case 3:a=t.sent,n=a.data,r(w(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}()()}),[r,D]),s.a.useEffect((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get(y+"/diagnoses/");case 3:t=e.sent,a=t.data,r(S(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(!i||i.length<1||null==i)&&e()}),[r]);var k=function(){var e=Object(u.a)(j.a.mark((function e(t){var a,n,c,i,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.post("".concat(y,"/patients/").concat(null===D||void 0===D?void 0:D.id,"/entries"),t);case 3:a=e.sent,n=a.data,r(w(n)),C(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("try-catch submitNewEntry ".concat(null===(c=e.t0.response)||void 0===c?void 0:c.data)||!1),g("try-catch submitNewEntry  ".concat(null===(i=e.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.error)||!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(H.jsx)("div",{children:D?Object(H.jsxs)("div",{children:[Object(H.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[Object(H.jsxs)("h1",{style:{display:"inline",paddingRight:10,margin:0},children:[D.name," "]}),Object(H.jsx)("div",{children:Object(H.jsx)(W.a,{name:function(){switch(null===D||void 0===D?void 0:D.gender){case"male":return"mars";case"female":return"venus";case"other":return"other gender horizontal";default:return"mars"}}(),size:"large"})})]}),Object(H.jsxs)("p",{children:["ssn: ",D.ssn]}),Object(H.jsxs)("p",{children:["occupation: ",D.occupation]}),Object(H.jsx)("p",{children:D.dateOfBirth}),Object(H.jsx)(re,{modalOpen:d,onSubmit:k,error:f,onClose:C}),Object(H.jsx)(v.a,{onClick:function(){return h(!0)},children:"Add New Entry"}),Object(H.jsx)("h3",{children:"Entries"}),D.entries.length>0?D.entries.map((function(e){return Object(H.jsx)(je,{entry:e},e.id)})):Object(H.jsx)(I.a,{children:"The patient has not had any visits."})]}):Object(H.jsx)("h1",{children:"Loading"})})},be=function(){var e=Y(),t=Object(b.a)(e,2),a=t[0].diagnoses,n=t[1];return s.a.useEffect((function(){p.a.get("".concat(y,"/ping")),function(){var e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get("".concat(y,"/patients"));case 3:t=e.sent,a=t.data,n({type:"SET_PATIENT_LIST",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()()}),[n]),s.a.useEffect((function(){var e=function(){var e=Object(u.a)(j.a.mark((function e(){var t,a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.get(y+"/diagnoses/");case 3:t=e.sent,a=t.data,n(S(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(!a||a.length<1||null==a)&&e()}),[n]),Object(H.jsx)("div",{className:"App",children:Object(H.jsx)(O.a,{children:Object(H.jsxs)(m.a,{children:[Object(H.jsx)(f.a,{as:"h1",children:"Patientor"}),Object(H.jsx)(v.a,{as:O.b,to:"/",primary:!0,children:"Home"}),Object(H.jsx)(g.a,{hidden:!0}),Object(H.jsxs)(x.c,{children:[Object(H.jsx)(x.a,{path:"/patients/:id",children:Object(H.jsx)(ue,{})}),Object(H.jsx)(x.a,{exact:!0,path:"/",children:Object(H.jsx)(Q,{})})]})]})})})};o.a.render(Object(H.jsx)(E,{reducer:function(e,t){switch(t.type){case"SET_PATIENT_LIST":return Object(k.a)(Object(k.a)({},e),{},{patients:Object(k.a)(Object(k.a)({},t.payload.reduce((function(e,t){return Object(k.a)(Object(k.a)({},e),{},Object(C.a)({},t.id,t))}),{})),e.patients)});case"ADD_PATIENT":return Object(k.a)(Object(k.a)({},e),{},{patients:Object(k.a)(Object(k.a)({},e.patients),{},Object(C.a)({},t.payload.id,t.payload))});case"ADD_TO_PATIENT_INFO_LIST":return Object(k.a)(Object(k.a)({},e),{},{patientInfo:Object(k.a)(Object(k.a)({},e.patientInfo),{},Object(C.a)({},t.payload.id,t.payload))});case"ADD_DIAGNOSES":return Object(k.a)(Object(k.a)({},e),{},{diagnoses:Object(D.a)(t.payload)});default:return e}},children:Object(H.jsx)(be,{})}),document.getElementById("root"))}},[[354,1,2]]]);
//# sourceMappingURL=main.2602af3b.chunk.js.map